<?xml version="1.0" encoding="utf-8" ?>

<Defs>
	
	<!-- Advanced Bionic Cost Calculation

 		Plasteeel $9.00
		Advanced Components $200.00
		Hyperweave $9.00
		AI Persona Core $4000.00
		Neutroamine $6.00

		Archotech Tier (Advanced Bionics Material Price x 2) (Previously had Material Price + $1000 x 2)

		Texture Icon Colour #93B9DF

		Note: Recipes must have Human as a recipeUsers otherwise they won't show.

	-->
	
	<!-- Stat Information

		Material Cost
		- Note: Cost of prosthetics using Steel is really high.  There seems to be no logical flow between Prosthetic and Bionics, in a lot of cases plasteel cost is half, other times its less or more.
		- Bionic Special, Based on Bionics Cost, Metal 2x, Components 1.5x.
		- Advanced Bionics, Based on Bionics Cost, Metal x1, Components x2
		- Advanced Bionics Special, Based on Advanced Bionics Cost, Metal 2x, Components 1.5x

		HP Bonus
		- Bionics +25% HP
		- Advanced Bionics +50% HP
		- Archotech Bionics +100% HP
		- Durable Bionics +25% HP on top of bionics tier
		- Fragile Bionics -25% HP on top of bionics tier

		Damage
		- Note: Damage is based on part effiency bonus.
		- Human Fist 8.2 DMG
		- Human Bite 8.2 DMG
		- Bionic Fist 12 DMG
		- Advanced Bionic Fist 16 DMG
		- Advanced Bionic Jaw 16 DMG
		- Advanced Combat Bionic 32 DMG
		- Archotech Jaw 24 DMG

		Armour Penetration
		- Bionics 0.25 AP
		- Advanced Bionics 0.5 AP
		- Archotech 1.0 AP
		- Combat Bionic Basic Attack 0.25 AP on top of bionics tier
		- Combat Bionic Special Attacks 0.5 AP on top of bionics tier (Example, Advanced Bionic Acid Jaw 0.75 AP Basic, 1.0 AP Special)

	-->
	
	<!--
		Note: Changing a vanilla ParentDef to a custom ParentDef with a PatchOperationAttributeSet will not work normally.
 		For it to work you need to add/insert (preferably insert) the ParentDef with a patch.  Then it will work as intended.
	-->
	
	<!-- Advanced Bionic Base -->	
	
	<ThingDef Name="FSFBodyPartAdvBionicBase" ParentName="BodyPartBase" Abstract="True">
		<techLevel>Ultra</techLevel>
		<thingCategories>
			<li>BodyPartsUltra</li>
		</thingCategories>
		<graphicData>
			<texPath>Things/Item/Health/HealthItem</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>0.80</drawSize>
			<color>(144,98,179)</color>
		</graphicData>
		<tradeTags>
			<li>Bionic</li>
			<li MayRequire="Ludeon.RimWorld.Royalty">ImplantEmpireCommon</li>
		</tradeTags>
		<techHediffsTags>
			<li>Advanced</li>
			<li MayRequire="Ludeon.RimWorld.Royalty">ImplantEmpireCommon</li>
		</techHediffsTags>
		<statBases>
			<WorkToMake>30000</WorkToMake>
		</statBases>
		<recipeMaker>
			<workSpeedStat>GeneralLaborSpeed</workSpeedStat>
			<workSkill>Crafting</workSkill>
			<effectWorking>Smith</effectWorking>
			<soundWorking>Recipe_Smith</soundWorking>
			<unfinishedThingDef>UnfinishedHealthItemBionic</unfinishedThingDef>
			<skillRequirements>
				<Crafting>10</Crafting>
			</skillRequirements>
			<researchPrerequisites>
				<li>FSFAdvancedBionics</li>
			</researchPrerequisites>
			<recipeUsers>
				<li>FabricationBench</li>
			</recipeUsers>
		</recipeMaker>
	</ThingDef>
	
	<!-- AI Module Use Item Job -->
	
	<JobDef>
		<defName>FSFInstallFSFAIModule</defName>
		<driverClass>JobDriver_UseItem</driverClass>
		<reportString>Installing TargetA.</reportString>
		<allowOpportunisticPrefix>true</allowOpportunisticPrefix>
	</JobDef>
	
	<!-- AI Module Storage Category -->
	
	<ThingCategoryDef>
		<defName>FSFBodyPartsAIModule</defName>
		<label>AI assistant modules</label>
		<parent>BodyPartsUltra</parent>
	</ThingCategoryDef>
	
	<!-- AI Module Item Upgrade Base -->
	
	<ThingDef Name="FSFAIModuleItemUpgradeBase" ParentName="FSFBodyPartAdvBionicBase" Abstract="True">
		<descriptionHyperlinks>
			<ThingDef>FSFAIModuleCore</ThingDef>
			<HediffDef>FSFAIModuleCore</HediffDef>
		</descriptionHyperlinks>
		<graphicData>
			<texPath>Things/Item/Special/MechSerumHealer</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<thingCategories Inherit="False">
			<li>FSFBodyPartsAIModule</li>
		</thingCategories>
		<techHediffsTags Inherit="False"/>
		<thingSetMakerTags>
			<li>RewardStandardLowFreq</li>
		</thingSetMakerTags>
		<statBases>
			<MarketValue>1000</MarketValue>
		</statBases>
		<costList>
			<Plasteel>5</Plasteel>
			<ComponentSpacer>1</ComponentSpacer>
		</costList>
		<comps>
			<li Class="CompProperties_UseEffectPlaySound">
				<soundOnUsed>MechSerumUsed</soundOnUsed>
			</li>
			<li Class="CompProperties_UseEffectDestroySelf" />
		</comps>
		<recipeMaker>
			<skillRequirements>
				<Crafting>12</Crafting>
			</skillRequirements>
			<researchPrerequisites>
				<li>FSFAIModule</li>
			</researchPrerequisites>
		</recipeMaker>
	</ThingDef>
	
	<!-- AI Module Hediff Upgrade Base -->
	
	<HediffDef Name="FSFAIModuleHediffUpgradeBase" ParentName="FSFImplantHediffAdvBase" Abstract="True">
		<descriptionHyperlinks>
			<ThingDef>FSFAIModuleCore</ThingDef>
			<HediffDef>FSFAIModuleCore</HediffDef>
		</descriptionHyperlinks>
		<hediffClass>Hediff_Level</hediffClass>
		<initialSeverity>1</initialSeverity> <!-- Severity is bound to level of implant -->
		<minSeverity>0</minSeverity>
		<maxSeverity>1</maxSeverity>
		<duplicationAllowed>false</duplicationAllowed>
		<keepOnBodyPartRestoration>False</keepOnBodyPartRestoration>
		<levelIsQuantity>true</levelIsQuantity>
	</HediffDef>
	
	<!-- Mech Serum Use Item Job -->
	
	<JobDef>
		<defName>FSFInstallMechSerum</defName>
		<driverClass>JobDriver_UseItem</driverClass>
		<reportString>Injecting TargetA.</reportString>
		<allowOpportunisticPrefix>true</allowOpportunisticPrefix>
	</JobDef>
	
	<!-- Mechanite Serum Storage Category -->
	
	<ThingCategoryDef>
		<defName>FSFBodyPartsMechSerum</defName>
		<label>mechanite serums</label>
		<parent>BodyPartsUltra</parent>
	</ThingCategoryDef>
	
	<!-- Mechanite Serum Item Base -->
	
	<ThingDef Name="FSFMechSerumBase" ParentName="FSFBodyPartAdvBionicBase" Abstract="True">
		<thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
		<graphicData>
			<texPath>Things/Item/Special/MechSerumHealer</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<thingCategories Inherit="False">
			<li>FSFBodyPartsMechSerum</li>
		</thingCategories>
		<statBases>
			<MarketValue>2000</MarketValue>
			<Mass>0.2</Mass>
		</statBases>
		<recipeMaker>
			<skillRequirements>
				<Crafting>12</Crafting>
				<Medicine>12</Medicine>
			</skillRequirements>
			<researchPrerequisites>
				<li>FSFMechaniteSerums</li>
			</researchPrerequisites>
		</recipeMaker>
		<comps>
			<li Class="CompProperties_Forbiddable"/>
			<li Class="CompProperties_Usable">
				<compClass>CompUsableImplant</compClass>
				<useJob>FSFInstallMechSerum</useJob>
				<useLabel>Inject {0_label}</useLabel>
			</li>
			<li Class="CompProperties_UseEffectPlaySound">
				<soundOnUsed>MechSerumUsed</soundOnUsed>
			</li>
			<li Class="CompProperties_UseEffectDestroySelf" />
		</comps>
	</ThingDef>
	
	<!-- Mechanite Serum Surgery Remove Base -->
	
	<RecipeDef Name="FSFMechSerumSurgeryRemoveBase" ParentName="SurgeryRemoveImplantBase" Abstract="True">
		<workAmount>10000</workAmount>
		<skillRequirements>
			<Medicine>12</Medicine>
		</skillRequirements>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>MedicineUltratech</li>
					</thingDefs>
				</filter>
				<count>10</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<categories>
				<li>Medicine</li>
			</categories>
		</fixedIngredientFilter>
		<researchPrerequisites>
			<li>FSFMechaniteSerums</li>
		</researchPrerequisites>
	</RecipeDef>
	
	<!-- Prosthetic Color Label -->

	<HediffDef Name="FSFAddedBodyPartProsthetic" Abstract="True">
		<hediffClass>Hediff_AddedPart</hediffClass>
		<defaultLabelColor>(102,178,255)</defaultLabelColor>
		<isBad>false</isBad>
		<priceImpact>true</priceImpact>
		<countsAsAddedPartOrImplant>true</countsAsAddedPartOrImplant>
	</HediffDef>
	
	<!-- Advanced Bionic Color Label -->
	
	<HediffDef Name="FSFAddedBodyPartAdvBionic" ParentName="AddedBodyPartBase" Abstract="True">
		<hediffClass>Hediff_AddedPart</hediffClass>
		<defaultLabelColor>(144,98,179)</defaultLabelColor>
		<isBad>false</isBad>
		<priceImpact>true</priceImpact>
    	<countsAsAddedPartOrImplant>true</countsAsAddedPartOrImplant>
	</HediffDef>
	
	<!-- Advanced Bionic Implant Color Label -->
	
	<HediffDef Name="FSFImplantHediffAdvBase" ParentName="ImplantHediffBase" Abstract="True">
		<hediffClass>Hediff_Implant</hediffClass>
		<defaultLabelColor>(144,98,179)</defaultLabelColor>
		<isBad>false</isBad>
		<priceImpact>true</priceImpact>
	</HediffDef>
	
	<!-- Archotech Color Label-->
	<!-- Old Archotech Color 82,190,128 -->
	
	<HediffDef Name="FSFAddedBodyPartArchotech" ParentName="AddedBodyPartBase" Abstract="True">
		<hediffClass>Hediff_AddedPart</hediffClass>
		<defaultLabelColor>(139,143,104)</defaultLabelColor>
		<isBad>false</isBad>
		<priceImpact>true</priceImpact>
    	<countsAsAddedPartOrImplant>true</countsAsAddedPartOrImplant>
	</HediffDef>
	
	<!-- Archotech Implant Color Label -->
	
	<HediffDef Name="FSFImplantHediffArchotechBase" ParentName="ImplantHediffBase" Abstract="True">
		<hediffClass>Hediff_Implant</hediffClass>
		<defaultLabelColor>(139,143,104)</defaultLabelColor>
		<isBad>false</isBad>
		<priceImpact>true</priceImpact>
	</HediffDef>

</Defs>