<?xml version="1.0" encoding="utf-8" ?>

<Defs>
	
	<!-- Mechanites Armor -->

	<HediffDef ParentName="FSFImplantHediffAdvBase">
		<defName>FSFImplantMechanitesArmor</defName>
		<label>armor-enhancing mechanites</label>
		<labelNoun>armor-enhancing mechanites</labelNoun>
		<description>A swarm of armor-enhancing mechanites.  A dose of semi-coherent mechanites which modifies muscle and tissue to create a durable subdermal layer of armour in order to protect the host.\n\nFor ease-of-use the mechanites are designed to be self-installable via a small handheld injector.  Due to how mechanites work only one strain can exist harmoniously inside the host’s body.  Upon injection any existing strain will be eliminated by the newly injected mechanites.  It is possible to remove mechanite strains entirely from a host, however it requires an expensive and difficult surgery.</description>
		<descriptionHyperlinks>
			<ThingDef>FSFImplantMechanitesArmor</ThingDef>
			<RecipeDef>RemoveFSFImplantMechanitesArmor</RecipeDef>
		</descriptionHyperlinks>
		<stages>
			<li>
				<statFactors>
					<IncomingDamageFactor>0.5</IncomingDamageFactor>
				</statFactors>
			</li>
		</stages>
		<comps>
			<li Class="HediffCompProperties_RemoveIfOtherHediff">
				<hediffs>
					<li MayRequire="OskarPotocki.VanillaFactionsExpanded.Core">FSFImplantMechanitesHealing</li>
					<li MayRequire="Ludeon.RimWorld.Royalty">FSFImplantMechanitesPsychic</li>
					<li>FSFImplantMechanitesSensory</li>
					<li>FSFImplantMechanitesSpeed</li>
					<li>FSFImplantMechanitesStrength</li>
				</hediffs>
			</li>
		</comps>
		<tags><li>FSFImplantMechanites</li></tags>
	</HediffDef>

	<ThingDef ParentName="FSFMechSerumBase">
		<defName>FSFImplantMechanitesArmor</defName>
		<label>armor-enhancing mechanites</label>
		<description>A dose of semi-coherent mechanites which modifies muscle and tissue to create a durable subdermal layer of armour in order to protect the host.\n\nFor ease-of-use the mechanites are designed to be self-installable via a small handheld injector.  Due to how mechanites work only one strain can exist harmoniously inside the host’s body.  Upon injection any existing strain will be eliminated by the newly injected mechanites.  It is possible to remove mechanite strains entirely from a host, however it requires an expensive and difficult surgery.</description>
		<descriptionHyperlinks>
			<HediffDef>FSFImplantMechanitesArmor</HediffDef>
			<RecipeDef>RemoveFSFImplantMechanitesArmor</RecipeDef>
		</descriptionHyperlinks>
		<graphicData>
			<texPath>Things/Item/Special/MechSerumHealer</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<costList>
			<Neutroamine>10</Neutroamine>
			<MedicineUltratech>20</MedicineUltratech>
			<ComponentSpacer>4</ComponentSpacer>
			<Plasteel>4</Plasteel>
		</costList>
		<comps>
			<li Class="CompProperties_UseEffectInstallImplant">
				<compClass>CompUseEffect_InstallImplant</compClass>
				<hediffDef>FSFImplantMechanitesArmor</hediffDef>
				<bodyPart>Torso</bodyPart>
			</li>
		</comps>
	</ThingDef>
	
	<RecipeDef ParentName="FSFMechSerumSurgeryRemoveBase">
		<defName>RemoveFSFImplantMechanitesArmor</defName>
		<label>remove and destroy armor-enhancing mechanites</label>
		<description>Remove and destroy armor-enhancing mechanites.</description>
		<descriptionHyperlinks>
			<ThingDef>FSFImplantMechanitesArmor</ThingDef>
			<HediffDef>FSFImplantMechanitesArmor</HediffDef>
		</descriptionHyperlinks>
		<jobString>Removing and destroying armor-enhancing mechanites.</jobString>
		<removesHediff>FSFImplantMechanitesArmor</removesHediff>
	</RecipeDef>
	
	<!-- Mechanites Immunity -->

	<HediffDef ParentName="FSFImplantHediffAdvBase">
		<defName>FSFImplantMechanitesImmunity</defName>
		<label>immunity-enhancing mechanites</label>
		<labelNoun>immunity-enhancing mechanites</labelNoun>
		<description>A swarm of immunity-enhancing mechanites.  A dose of semi-coherent mechanites which travel throughout the body in order to fight off diseases within the host.  While mechanite strains normally conflict with one another this one is designed to remain in sleep mode the majority of the time and only awaken temporarily to deal with threats to the host’s health.  As such it’s able to coexist with other more aggressive mechanite strains.  Unfortunately, this has the downside of the mechanites being unable to remain active long enough to fight off existing conditions that have had time to take hold in the host’s system.\n\nFor ease-of-use the mechanites are designed to be self-installable via a small handheld injector.  It is possible to remove mechanite strains entirely from a host, however it requires an expensive and difficult surgery.</description>
		<descriptionHyperlinks>
			<ThingDef>FSFImplantMechanitesImmunity</ThingDef>
			<RecipeDef>RemoveFSFImplantMechanitesImmunity</RecipeDef>
		</descriptionHyperlinks>
		<stages>
			<li>
				<makeImmuneTo>
					<li>GutWorms</li>
					<li>FibrousMechanites</li>
					<li>Flu</li>
					<li MayRequire="SineSwiper.XenobionicPatcher">Animal_Flu</li>
					<li>WoundInfection</li>
					<li>Malaria</li>
					<li MayRequire="Ludeon.RimWorld.Anomaly">MetalhorrorImplant</li>
					<li>OrganDecay</li>
					<li>Plague</li>
					<li MayRequire="SineSwiper.XenobionicPatcher">Animal_Plague</li>
					<li>SensoryMechanites</li>
					<li>SleepingSickness</li>
				</makeImmuneTo>
			</li>
		</stages>
	</HediffDef>

	<ThingDef ParentName="FSFMechSerumBase">
		<defName>FSFImplantMechanitesImmunity</defName>
		<label>immunity-enhancing mechanites</label>
		<description>A dose of semi-coherent mechanites which travel throughout the body in order to fight off diseases within the host.  While mechanite strains normally conflict with one another this one is designed to remain in sleep mode the majority of the time and only awaken temporarily to deal with threats to the host’s health.  As such it’s able to coexist with other more aggressive mechanite strains.  Unfortunately, this has the downside of the mechanites being unable to remain active long enough to fight off existing conditions that have had time to take hold in the host’s system.\n\nFor ease-of-use the mechanites are designed to be self-installable via a small handheld injector.  It is possible to remove mechanite strains entirely from a host, however it requires an expensive and difficult surgery.</description>
		<descriptionHyperlinks>
			<HediffDef>FSFImplantMechanitesImmunity</HediffDef>
			<RecipeDef>RemoveFSFImplantMechanitesImmunity</RecipeDef>
		</descriptionHyperlinks>
		<graphicData>
			<texPath>Things/Item/Special/MechSerumHealer</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<costList>
			<Neutroamine>20</Neutroamine>
			<MedicineUltratech>20</MedicineUltratech>
			<ComponentSpacer>4</ComponentSpacer>
		</costList>
		<comps>
			<li Class="CompProperties_UseEffectInstallImplant">
				<compClass>CompUseEffect_InstallImplant</compClass>
				<hediffDef>FSFImplantMechanitesImmunity</hediffDef>
				<bodyPart>Torso</bodyPart>
			</li>
		</comps>
	</ThingDef>
	
	<RecipeDef ParentName="FSFMechSerumSurgeryRemoveBase">
		<defName>RemoveFSFImplantMechanitesImmunity</defName>
		<label>remove and destroy immunity-enhancing mechanites</label>
		<description>Remove and destroy immunity-enhancing mechanites.</description>
		<descriptionHyperlinks>
			<ThingDef>FSFImplantMechanitesImmunity</ThingDef>
			<HediffDef>FSFImplantMechanitesImmunity</HediffDef>
		</descriptionHyperlinks>
		<jobString>Removing and destroying immunity-enhancing mechanites.</jobString>
		<removesHediff>FSFImplantMechanitesImmunity</removesHediff>
	</RecipeDef>

	<!-- Mechanites Sensory -->

	<HediffDef ParentName="FSFImplantHediffAdvBase">
		<defName>FSFImplantMechanitesSensory</defName>
		<label>sense-enhancing mechanites</label>
		<labelNoun>sense-enhancing mechanites</labelNoun>
		<description>A swarm of sense-enhancing mechanites.  A dose of semi-coherent mechanites which reside in the nervous system and are designed to augment the host's senses.  This is the stable and safe form of what’s commonly known as sensory mechanites.\n\nFor ease-of-use the mechanites are designed to be self-installable via a small handheld injector.  Due to how mechanites work only one strain can exist harmoniously inside the host’s body.  Upon injection any existing strain will be eliminated by the newly injected mechanites.  It is possible to remove mechanite strains entirely from a host, however it requires an expensive and difficult surgery.</description>
		<descriptionHyperlinks>
			<ThingDef>FSFImplantMechanitesSensory</ThingDef>
			<RecipeDef>RemoveFSFImplantMechanitesSensory</RecipeDef>
		</descriptionHyperlinks>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Sight</capacity>
						<offset>0.25</offset>
					</li>
					<li>
						<capacity>Hearing</capacity>
						<offset>0.25</offset>
					</li>
					<li>
						<capacity>Talking</capacity>
						<offset>0.25</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeHitChance>+4</MeleeHitChance>
					<ShootingAccuracyPawn>+5</ShootingAccuracyPawn>
				</statOffsets>
			</li>
		</stages>
		<comps>
			<li Class="HediffCompProperties_RemoveIfOtherHediff">
				<hediffs>
					<li>FSFImplantMechanitesArmor</li>
					<li MayRequire="OskarPotocki.VanillaFactionsExpanded.Core">FSFImplantMechanitesHealing</li>
					<li MayRequire="Ludeon.RimWorld.Royalty">FSFImplantMechanitesPsychic</li>
					<li>FSFImplantMechanitesSpeed</li>
					<li>FSFImplantMechanitesStrength</li>
				</hediffs>
			</li>
		</comps>
		<tags><li>FSFImplantMechanites</li></tags>
	</HediffDef>

	<ThingDef ParentName="FSFMechSerumBase">
		<defName>FSFImplantMechanitesSensory</defName>
		<label>sense-enhancing mechanites</label>
		<description>A dose of semi-coherent mechanites which reside in the nervous system and are designed to augment the host's senses.  This is the stable and safe form of what’s commonly known as sensory mechanites.\n\nFor ease-of-use the mechanites are designed to be self-installable via a small handheld injector.  Due to how mechanites work only one strain can exist harmoniously inside the host’s body.  Upon injection any existing strain will be eliminated by the newly injected mechanites.  It is possible to remove mechanite strains entirely from a host, however it requires an expensive and difficult surgery.</description>
		<descriptionHyperlinks>
			<HediffDef>FSFImplantMechanitesSensory</HediffDef>
			<RecipeDef>RemoveFSFImplantMechanitesSensory</RecipeDef>
		</descriptionHyperlinks>
		<graphicData>
			<texPath>Things/Item/Special/MechSerumHealer</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<costList>
			<Neutroamine>10</Neutroamine>
			<MedicineUltratech>20</MedicineUltratech>
			<ComponentSpacer>4</ComponentSpacer>
		</costList>
		<comps>
			<li Class="CompProperties_UseEffectInstallImplant">
				<compClass>CompUseEffect_InstallImplant</compClass>
				<hediffDef>FSFImplantMechanitesSensory</hediffDef>
				<bodyPart>Torso</bodyPart>
			</li>
		</comps>
	</ThingDef>
	
	<RecipeDef ParentName="FSFMechSerumSurgeryRemoveBase">
		<defName>RemoveFSFImplantMechanitesSensory</defName>
		<label>remove and destroy sense-enhancing mechanites</label>
		<description>Remove and destroy sense-enhancing mechanites.</description>
		<descriptionHyperlinks>
			<ThingDef>FSFImplantMechanitesSensory</ThingDef>
			<HediffDef>FSFImplantMechanitesSensory</HediffDef>
		</descriptionHyperlinks>
		<jobString>Removing and destroying sense-enhancing mechanites.</jobString>
		<removesHediff>FSFImplantMechanitesSensory</removesHediff>
	</RecipeDef>
	
	<!-- Mechanites Speed -->

	<HediffDef ParentName="FSFImplantHediffAdvBase">
		<defName>FSFImplantMechanitesSpeed</defName>
		<label>speed-enhancing mechanites</label>
		<labelNoun>speed-enhancing mechanites</labelNoun>
		<description>A swarm of speed-enhancing mechanites.  A dose of semi-coherent mechanites which develop fibrous links in muscle tissue in order to augment the host's speed.\n\nFor ease-of-use the mechanites are designed to be self-installable via a small handheld injector.  Due to how mechanites work only one strain can exist harmoniously inside the host’s body.  Upon injection any existing strain will be eliminated by the newly injected mechanites.  It is possible to remove mechanite strains entirely from a host, however it requires an expensive and difficult surgery.</description>
		<descriptionHyperlinks>
			<ThingDef>FSFImplantMechanitesSpeed</ThingDef>
			<RecipeDef>RemoveFSFImplantMechanitesSpeed</RecipeDef>
		</descriptionHyperlinks>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Moving</capacity>
						<offset>1.0</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeDodgeChance>+15.0</MeleeDodgeChance>
					<RangedCooldownFactor>-0.25</RangedCooldownFactor>
				</statOffsets>
				<statFactors>
					<MeleeCooldownFactor>0.75</MeleeCooldownFactor>
					<PawnTrapSpringChance>0.1</PawnTrapSpringChance>
				</statFactors>
			</li>
		</stages>
		<comps>
			<li Class="HediffCompProperties_RemoveIfOtherHediff">
				<hediffs>
					<li>FSFImplantMechanitesArmor</li>
					<li MayRequire="OskarPotocki.VanillaFactionsExpanded.Core">FSFImplantMechanitesHealing</li>
					<li MayRequire="Ludeon.RimWorld.Royalty">FSFImplantMechanitesPsychic</li>
					<li>FSFImplantMechanitesSensory</li>
					<li>FSFImplantMechanitesStrength</li>
				</hediffs>
			</li>
		</comps>
		<tags><li>FSFImplantMechanites</li></tags>
	</HediffDef>

	<ThingDef ParentName="FSFMechSerumBase">
		<defName>FSFImplantMechanitesSpeed</defName>
		<label>speed-enhancing mechanites</label>
		<description>A dose of semi-coherent mechanites which develop fibrous links in muscle tissue in order to augment the host's speed.\n\nFor ease-of-use the mechanites are designed to be self-installable via a small handheld injector.  Due to how mechanites work only one strain can exist harmoniously inside the host’s body.  Upon injection any existing strain will be eliminated by the newly injected mechanites.  It is possible to remove mechanite strains entirely from a host, however it requires an expensive and difficult surgery.</description>
		<descriptionHyperlinks>
			<HediffDef>FSFImplantMechanitesSpeed</HediffDef>
			<RecipeDef>RemoveFSFImplantMechanitesSpeed</RecipeDef>
		</descriptionHyperlinks>
		<graphicData>
			<texPath>Things/Item/Special/MechSerumHealer</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<costList>
			<Neutroamine>10</Neutroamine>
			<MedicineUltratech>20</MedicineUltratech>
			<ComponentSpacer>4</ComponentSpacer>
		</costList>
		<comps>
			<li Class="CompProperties_UseEffectInstallImplant">
				<compClass>CompUseEffect_InstallImplant</compClass>
				<hediffDef>FSFImplantMechanitesSpeed</hediffDef>
				<bodyPart>Torso</bodyPart>
			</li>
		</comps>
	</ThingDef>
	
	<RecipeDef ParentName="FSFMechSerumSurgeryRemoveBase">
		<defName>RemoveFSFImplantMechanitesSpeed</defName>
		<label>remove and destroy speed-enhancing mechanites</label>
		<description>Remove and destroy speed-enhancing mechanites.</description>
		<descriptionHyperlinks>
			<ThingDef>FSFImplantMechanitesSpeed</ThingDef>
			<HediffDef>FSFImplantMechanitesSpeed</HediffDef>
		</descriptionHyperlinks>
		<jobString>Removing and destroying speed-enhancing mechanites.</jobString>
		<removesHediff>FSFImplantMechanitesSpeed</removesHediff>
	</RecipeDef>
	
	<!-- Mechanites Strength -->

	<HediffDef ParentName="FSFImplantHediffAdvBase">
		<defName>FSFImplantMechanitesStrength</defName>
		<label>strength-enhancing mechanites</label>
		<labelNoun>strength-enhancing mechanites</labelNoun>
		<description>A swarm of strength-enhancing mechanites.  A dose of semi-coherent mechanites which develop fibrous links in muscle tissue in order to augment the host's strength.  This is the stable and safe form of what’s commonly known as fibrous mechanites.\n\nFor ease-of-use the mechanites are designed to be self-installable via a small handheld injector.  Due to how mechanites work only one strain can exist harmoniously inside the host’s body.  Upon injection any existing strain will be eliminated by the newly injected mechanites.  It is possible to remove mechanite strains entirely from a host, however it requires an expensive and difficult surgery.</description>
		<descriptionHyperlinks>
			<ThingDef>FSFImplantMechanitesStrength</ThingDef>
			<RecipeDef>RemoveFSFImplantMechanitesStrength</RecipeDef>
		</descriptionHyperlinks>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Manipulation</capacity>
						<offset>0.25</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.25</offset>
					</li>
				</capMods>
				<statOffsets>
					<VEF_MassCarryCapacity MayRequire="OskarPotocki.VanillaFactionsExpanded.Core">17.5</VEF_MassCarryCapacity>
				</statOffsets>
				<statFactors>
					<MeleeDamageFactor>1.25</MeleeDamageFactor>
				</statFactors>
			</li>
		</stages>
		<comps>
			<li Class="HediffCompProperties_RemoveIfOtherHediff">
				<hediffs>
					<li>FSFImplantMechanitesArmor</li>
					<li MayRequire="OskarPotocki.VanillaFactionsExpanded.Core">FSFImplantMechanitesHealing</li>
					<li MayRequire="Ludeon.RimWorld.Royalty">FSFImplantMechanitesPsychic</li>
					<li>FSFImplantMechanitesSensory</li>
					<li>FSFImplantMechanitesSpeed</li>
				</hediffs>
			</li>
		</comps>
		<tags><li>FSFImplantMechanites</li></tags>
	</HediffDef>

	<ThingDef ParentName="FSFMechSerumBase">
		<defName>FSFImplantMechanitesStrength</defName>
		<label>strength-enhancing mechanites</label>
		<description>A dose of semi-coherent mechanites which develop fibrous links in muscle tissue in order to augment the host's strength.  This is the stable and safe form of what’s commonly known as fibrous mechanites.\n\nFor ease-of-use the mechanites are designed to be self-installable via a small handheld injector.  Due to how mechanites work only one strain can exist harmoniously inside the host’s body.  Upon injection any existing strain will be eliminated by the newly injected mechanites.  It is possible to remove mechanite strains entirely from a host, however it requires an expensive and difficult surgery.</description>
		<descriptionHyperlinks>
			<HediffDef>FSFImplantMechanitesStrength</HediffDef>
			<RecipeDef>RemoveFSFImplantMechanitesStrength</RecipeDef>
		</descriptionHyperlinks>
		<graphicData>
			<texPath>Things/Item/Special/MechSerumHealer</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<costList>
			<Neutroamine>10</Neutroamine>
			<MedicineUltratech>20</MedicineUltratech>
			<ComponentSpacer>4</ComponentSpacer>
		</costList>
		<comps>
			<li Class="CompProperties_UseEffectInstallImplant">
				<compClass>CompUseEffect_InstallImplant</compClass>
				<hediffDef>FSFImplantMechanitesStrength</hediffDef>
				<bodyPart>Torso</bodyPart>
			</li>
		</comps>
	</ThingDef>
	
	<RecipeDef ParentName="FSFMechSerumSurgeryRemoveBase">
		<defName>RemoveFSFImplantMechanitesStrength</defName>
		<label>remove and destroy strength-enhancing mechanites</label>
		<description>Remove and destroy strength-enhancing mechanites.</description>
		<descriptionHyperlinks>
			<ThingDef>FSFImplantMechanitesStrength</ThingDef>
			<HediffDef>FSFImplantMechanitesStrength</HediffDef>
		</descriptionHyperlinks>
		<jobString>Removing and destroying strength-enhancing mechanites.</jobString>
		<removesHediff>FSFImplantMechanitesStrength</removesHediff>
	</RecipeDef>
		
</Defs>