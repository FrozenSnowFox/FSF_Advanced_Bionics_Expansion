<?xml version="1.0" encoding="utf-8"?>
<Patch>
	
	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>FrozenSnowFox.FrozenSnowFoxAdvancedBionicsExpansion</modId>
		<key>FSFABEBionicsTableOn</key>
		<defaultValue>false</defaultValue>
		<caseTrue>
			
		<Operation Class="PatchOperationSequence">
			<success>Normal</success>
			<operations>
				
			<!-- Unhide Bionics Table -->
			
			<li Class="PatchOperationAdd">
				<xpath>/Defs/ThingDef[defName = "FSFBionicsTable"]</xpath>
				<value>
					<designationCategory>Production</designationCategory>
					<researchPrerequisites>
						<li>Prosthetics</li>
					</researchPrerequisites>
				</value>
			</li>
				
			<!-- Give Component Recipe a Research Requirement -->
				
			<li Class="XmlExtensions.PatchOperationSafeAdd">
				<xpath>/Defs/RecipeDef[defName = "Make_ComponentIndustrial"]</xpath>
				<value>
					<researchPrerequisite>Fabrication</researchPrerequisite>
				</value>
			</li>
				
			<!-- Remove Benches from Disassembly Recipe -->
				
			<li Class="PatchOperationRemove">
				<xpath>/Defs/RecipeDef[defName = "FSFDisassembleBionic"]/recipeUsers</xpath>
			</li>
				
			<!-- Remove Benches from Resurrection Core Recipe -->
			
			<li MayRequire="OskarPotocki.VanillaFactionsExpanded.Core" Class="PatchOperationRemove">
				<xpath>/Defs/RecipeDef[defName = "FSFImplantTorsoResurrect"]/recipeUsers</xpath>
			</li>
				
			<!-- Remove Biotech Bionics reciperUsers -->
			
			<li MayRequire="Ludeon.RimWorld.Biotech" Class="PatchOperationConditional">		
				<xpath>/Defs/ThingDef[defName = "DetoxifierLung"]/recipeMaker/recipeUsers</xpath>
				<match Class="PatchOperationRemove">
					<xpath>/Defs/ThingDef[defName = "DetoxifierLung"]/recipeMaker/recipeUsers</xpath>
				</match>
			</li>
			
			<li MayRequire="Ludeon.RimWorld.Biotech" Class="PatchOperationConditional">		
				<xpath>/Defs/ThingDef[defName = "DetoxifierKidney"]/recipeMaker/recipeUsers</xpath>
				<match Class="PatchOperationRemove">
					<xpath>/Defs/ThingDef[defName = "DetoxifierKidney"]/recipeMaker/recipeUsers</xpath>
				</match>
			</li>
				
			<!-- Change Prosthetic Base Recipe -->
			
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[@Name = "BodyPartProstheticMakeableBase"]/recipeMaker/recipeUsers</xpath>
				<value>
					<recipeUsers>
						<li>FSFBionicsTable</li>
					</recipeUsers>
				</value>
			</li>
			
			<!-- Change Bionic Base Recipe -->
			
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[@Name = "BodyPartBionicBase"]/recipeMaker/recipeUsers</xpath>
				<value>
					<recipeUsers>
						<li>FSFBionicsTable</li>
					</recipeUsers>
				</value>
			</li>
			
			<!-- Change Advanced Bionic Base Recipe -->
			
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[@Name = "FSFBodyPartAdvBionicBase"]/recipeMaker/recipeUsers</xpath>
				<value>
					<recipeUsers>
						<li>FSFBionicsTable</li>
					</recipeUsers>
				</value>
			</li>
				
			</operations>
		</Operation>
			
		</caseTrue>
	</Operation>

</Patch>