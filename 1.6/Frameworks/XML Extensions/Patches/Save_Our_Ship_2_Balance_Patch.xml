<?xml version="1.0" encoding="utf-8"?>
<Patch>
	
	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>FrozenSnowFox.FrozenSnowFoxAdvancedBionicsExpansion</modId>
		<key>FSFABESoS2Balance</key>
		<defaultValue>false</defaultValue>
		<caseTrue>
			
		<Operation Class="PatchOperationSequence">
			<success>Normal</success>
			<operations>
				
			<!-- Save Our Ship 2 Balance Patch -->
				
			<!-- Archotech Ear -->
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechEar"]</xpath>
				<value>
					<comps>
        				<li MayRequire="V1024.EBFramework" Class="EBF.Hediffs.HediffCompProperties_MaxHPAdjust">
        					<scaleAdjustment>1.0</scaleAdjustment>
        				</li>
    				</comps>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechEar"]</xpath>
				<value>
					<statBases>
						<MarketValue>2580</MarketValue>
						<Mass>0.1</Mass>
					</statBases>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechEar"]/thingSetMakerTags</xpath>
			</li>
				
			<!-- Archotech Nose -->
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechNose"]</xpath>
				<value>
					<comps>
        				<li MayRequire="V1024.EBFramework" Class="EBF.Hediffs.HediffCompProperties_MaxHPAdjust">
        					<scaleAdjustment>1.0</scaleAdjustment>
        				</li>
    				</comps>
				</value>
			</li>
		
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechNose"]/stages/li/statOffsets/TameAnimalChance</xpath>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechNose"]/stages/li/statOffsets/TrainAnimalChance</xpath>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechNose"]</xpath>
				<value>
					<statBases>
						<MarketValue>980</MarketValue>
						<Mass>0.1</Mass>
					</statBases>
					<thingSetMakerTags>
						<li>RewardStandardMidFreq</li>
					</thingSetMakerTags>
				</value>
			</li>
				
			<!-- Archotech Jaw -->

			<li MayRequire="kentington.saveourship2" Class="PatchOperationReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechJaw"]/comps</xpath>
				<value>
					<comps>
						<li Class="HediffCompProperties_VerbGiver">
							<tools>
								<li>
									<label>teeth</label>
									<capacities>
										<li>Bite</li>
									</capacities>
									<power>24</power>
									<armorPenetration>1.0</armorPenetration>
									<cooldownTime>2</cooldownTime>
									<linkedBodyPartsGroup>Teeth</linkedBodyPartsGroup>
									<chanceFactor>0.07</chanceFactor>
									<soundMeleeHit>Pawn_Melee_HumanBite_Hit</soundMeleeHit>
									<soundMeleeMiss>Pawn_Melee_HumanBite_Miss</soundMeleeMiss>
								</li>
							</tools>
						</li>
        				<li MayRequire="V1024.EBFramework" Class="EBF.Hediffs.HediffCompProperties_MaxHPAdjust">
        					<scaleAdjustment>1.0</scaleAdjustment>
        				</li>
					</comps>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechJaw"]/stages</xpath>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechJaw"]</xpath>
				<value>
					<statBases>
						<MarketValue>2580</MarketValue>
						<Mass>1.5</Mass>
					</statBases>
				</value>
			</li>
				
			<!-- Archotech Heart -->
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechHeart"]</xpath>
				<value>
					<comps>
        				<li MayRequire="V1024.EBFramework" Class="EBF.Hediffs.HediffCompProperties_MaxHPAdjust">
        					<scaleAdjustment>1.0</scaleAdjustment>
        				</li>
    				</comps>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechHeart"]/stages</xpath>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechHeart"]</xpath>
				<value>
					<statBases>
						<MarketValue>2670</MarketValue>
						<Mass>2</Mass>
					</statBases>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechHeart"]/thingSetMakerTags</xpath>
			</li>
				
			<!-- Archotech Lung -->
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechLung"]</xpath>
				<value>
					<comps>
        				<li MayRequire="V1024.EBFramework" Class="EBF.Hediffs.HediffCompProperties_MaxHPAdjust">
        					<scaleAdjustment>1.0</scaleAdjustment>
        				</li>
    				</comps>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechLung"]/stages</xpath>
				<value>
					<stages>
						<li>
							<makeImmuneTo>
								<li>LungRot</li>
							</makeImmuneTo>
							<statOffsets>
								<HypoxiaResistance MayRequire="kentington.saveourship2">1</HypoxiaResistance>
								<ToxicEnvironmentResistance MayRequire="Ludeon.RimWorld.Biotech">0.6</ToxicEnvironmentResistance>
							</statOffsets>
						</li>
					</stages>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechLung"]</xpath>
				<value>
					<statBases>
						<MarketValue>2670</MarketValue>
						<Mass>2</Mass>
					</statBases>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechLung"]/thingSetMakerTags</xpath>
			</li>
				
			<!-- Archotech Stomach -->
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechStomach"]</xpath>
				<value>
					<comps>
        				<li MayRequire="V1024.EBFramework" Class="EBF.Hediffs.HediffCompProperties_MaxHPAdjust">
        					<scaleAdjustment>1.0</scaleAdjustment>
        				</li>
    				</comps>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechStomach"]/stages</xpath>
				<value>
					<stages>
						<li>
							<makeImmuneTo>
								<li>GutWorms</li>
							</makeImmuneTo>
							<hungerRateFactor MayRequire="Ludeon.RimWorld.Royalty">0.25</hungerRateFactor>
							<foodPoisoningChanceFactor>0</foodPoisoningChanceFactor>
						</li>
					</stages>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechStomach"]</xpath>
				<value>
					<statBases>
						<MarketValue>2580</MarketValue>
						<Mass>2</Mass>
					</statBases>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechStomach"]/thingSetMakerTags</xpath>
			</li>
				
			<!-- Archotech Kidney -->
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechKidney"]</xpath>
				<value>
					<comps>
        				<li MayRequire="V1024.EBFramework" Class="EBF.Hediffs.HediffCompProperties_MaxHPAdjust">
        					<scaleAdjustment>1.0</scaleAdjustment>
        				</li>
    				</comps>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechKidney"]/stages</xpath>
				<value>
					<stages>
						<li>
							<statOffsets>
								<ToxicResistance MayRequire="Ludeon.RimWorld.Biotech">0.5</ToxicResistance>
							</statOffsets>
						</li>
					</stages>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechKidney"]</xpath>
				<value>
					<statBases>
						<MarketValue>2580</MarketValue>
						<Mass>2</Mass>
					</statBases>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechKidney"]/thingSetMakerTags</xpath>
			</li>
				
			<!-- Archotech Liver -->
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechLiver"]</xpath>
				<value>
					<comps>
        				<li MayRequire="V1024.EBFramework" Class="EBF.Hediffs.HediffCompProperties_MaxHPAdjust">
        					<scaleAdjustment>1.0</scaleAdjustment>
        				</li>
    				</comps>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechLiver"]/stages</xpath>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechLiver"]</xpath>
				<value>
					<statBases>
						<MarketValue>2580</MarketValue>
						<Mass>2</Mass>
					</statBases>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechLiver"]/thingSetMakerTags</xpath>
			</li>
				
			<!-- Archotech Spine -->
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechSpine"]</xpath>
				<value>
					<comps>
        				<li MayRequire="V1024.EBFramework" Class="EBF.Hediffs.HediffCompProperties_MaxHPAdjust">
        					<scaleAdjustment>1.0</scaleAdjustment>
        				</li>
    				</comps>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechSpine"]/stages</xpath>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechSpine"]</xpath>
				<value>
					<statBases>
						<MarketValue>3470</MarketValue>
						<Mass>2</Mass>
					</statBases>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechSpine"]/thingSetMakerTags</xpath>
			</li>
				
			<!-- Archotech Skin -->
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechSkin"]</xpath>
				<value>
					<comps>
        				<li MayRequire="V1024.EBFramework" Class="EBF.Hediffs.HediffCompProperties_MaxHPAdjust">
        					<scaleAdjustment>1.0</scaleAdjustment>
        				</li>
    				</comps>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="PatchOperationReplace">
				<xpath>/Defs/HediffDef[defName = "SoSArchotechSkin"]/stages</xpath>
				<value>
					<stages>
						<li>
							<statOffsets>
								<ArmorRating_Sharp>1.0</ArmorRating_Sharp>
								<ArmorRating_Blunt>0.5</ArmorRating_Blunt>
								<ArmorRating_Heat>0.7</ArmorRating_Heat>
								<DecompressionResistance MayRequire="kentington.saveourship2">1</DecompressionResistance>
								<PawnBeauty>1</PawnBeauty>
							</statOffsets>
						</li>
					</stages>
				</value>
			</li>
				
			<li MayRequire="kentington.saveourship2" Class="XmlExtensions.PatchOperationSafeAddOrReplace">
				<xpath>/Defs/ThingDef[defName = "SoSArchotechSkin"]</xpath>
				<value>
					<statBases>
						<MarketValue>3650</MarketValue>
						<Mass>1</Mass>
					</statBases>
				</value>
			</li>
				
			</operations>
		</Operation>
			
		</caseTrue>
	</Operation>

</Patch>